require("DotLua/init")
require("Game/Protocol/PBRegister")
local PBProxy = require("DotLua/PB/PBProxy")

local Logger = _G.Logger

a_value = 1

httpData = {
    stringValue = "TTF001",
    shortValue = 12,
    intValue = 22,
    boolValue = true,
    longValue = 1123,
    byteValue = 1,
    uType = 0,

    stringList = {
    "a",
    "b",
    "c"
    },
    userValue = {
        guid = 1111,
        intValue = 2222,
    },

    userList = {
        {
            guid = 1111,
            intValue = 11111,
        },
        {
            guid = 3333333,
            intValue = 11111,
        },
    }
}

local Launcher = {}
Launcher.__index = Launcher

function Launcher.DoStart()
    Logger.Info("Launcher", "Started")

    local shopListRequest = {
        shop_type = 11,
        page_number = 23
    }
    -- local bytes = PBProxy.Encode("game.net.protos.ShopListRequest", shopListRequest)

    -- local data = PBProxy.Decode("game.net.protos.ShopListRequest", bytes)
    -- print(string.format("%d", data.shop_type))

    local request = {
        request_login = {
            token = "FFFFF"
        }
    }

    local bytes = PBProxy.Encode("kgs.gateway.Request", request)
    local data = PBProxy.Decode("kgs.gateway.Request", bytes)
    print(table.tostring(data))
    print(string.format("----%s----", data.request_login.token))
    print(string.format("----%s----", tostring(data.request_heartbeat)))
end

function Launcher.DoUpdate(deltaTime, unscaleDeltaTime)
end

function Launcher.DoLateUpdate(deltaTime, unscaleDeltaTime)
end

function Launcher.DoDestroy()
end

return Launcher
